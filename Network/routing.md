> ## 라우팅(Routing)
> 라우팅이란 패킷을 전송하기 위해 송신측에서 목적지까지의 경로를 설정하고 정해진 경로에 따라 패킷을 전달하는 과정을 말한다.

### 라우팅 프로토콜
- 정적라우팅(Static routing): 관리자에 의해 Routing Table이 유지/관리 되는 기법
라우팅 테이블을 교환하지 않고 라우팅이 가능하기 때문에 네트워크 대역폭을 절약할 수 있다.   
또한 외부에 자신의 경로를 알리지 않기 때문에 보안에도 강하다. 하지만 경로에 문제가 생길 경우 대처하기 어렵다는 단점이 있다.
- 동적라우팅(Dynamic routing): 라우팅 프로토콜에 의해 자동으로 라우팅 테이블을 구성하는 기법
자동으로 경로가 결정되는 프로토콜이다.   
라우터가 판단하여 가장 효율적인 방법으로 패킷을 전송시키는 방법이다.

### 동적 라우팅
내부라우팅(Inner Gateway Protocol)과 외부라우팅(External Gateway Protocol)로 나뉜다.

- 내부라우팅(IGP): 같은 AS 내부의 라우팅 정보를 교환하는 프로토콜
- 외부라우팅(EGP): 다른 AS 간의 라우팅 정보를 교환(다른 AS와 연결)하는 프로토콜

#### AS(Autonomius System)란?

- AS Number(망식별번호): 각각의 자율시스템을 식별하기 위한 인터넷 상의 고유 번호
- 하나의 그룹/기관/회사 같이 동일한 라우팅 정책으로 하나의 관리자에 의해 운영되는 네트워크

### RIP(Routing Information Protocol)
- 최소 Hop count를 파악하여 라우팅하는 프로토콜이다.
- 거리와 방향으로 길을 찾아가는 Distance Vector 다이나믹 프로토콜이다.
- 최단거리 즉, Hop count가 적은 경로를 택하여 라우팅하는 프로토콜로 Routing Table에 인접 라우터 정보를 저장하여 경로를 결정한다.
- 최대 Hop count는 15로 거리가 짧기 때문에 IGP로 많이 이용하는 프로토콜이다.
- 라우터의 메모리를 적게 사용하며, 30초마다 라우팅 정보를 업데이트 한다.
- Hop count가 낮을수록 좋은 경로, 소규모 네트워크에서 간편하게 구성 가능하다.
직접 연결되어 있는 라우터는 Hop로 계산하지 않고 30초 주기로 default routing을 업데이트하여 인접 라우터로 정보를 전송한다.
- 4~6개까지 로드 밸런싱이 가능하다.
- 주로 UDP 세그먼트에 캡슐화되어 사용한다.
- RIP는 단순 Hop을 count하여 경로를 결정하기 때문에 경로의 네트워크 속도는 판단하지 않는다. 비효율적인 경로로 패킷을 전달할 가능성이 있다.
- Distance Vector 알고리즘으로 네트워크 변화에 대처하는 시간(컨버전스 타임)이 느리다는 단점이 있다.
### BGP(Border Gateway Protocol)
- BGP는 외부 라우팅 프로토콜로(EGP) AS(관리 도메인)와 AS간에 사용되는 라우팅 프로토콜이다.
- 정해진 정책에 따라 최적 라우팅 경로를 수립한다.
경로벡터(Distance Vector) 방식의 라우팅 프로토콜로 다른 IGP보다 컨버전스는 느리지만 대용량의 라우팅 정보를 교환할 수 있다.
- TCP 포트 179번을 통해 인접 라우터들과 이웃(Neighbor) 관계를 성립하며, 이웃 노드 간에는 유니캐스트 라우팅 업데이트를 실시한다.
- 유니캐스트 라우팅 프로토콜
최적의 통신 경로를 찾아내는 프로토콜이다. 하나의 Sender와 하나의 Receiver 간의 통신을 의미하며 One-to-One 통신이라 하기도 한다.
### OSPF(Open Shortest Path First)
- 최단 경로 우선 프로토콜이다.
최저 COST(최저 시간) 경로를 최적 라우팅 경로로 결정한다.
- 가장 대표적인 링크 상태 프로토콜로 SPF(최단거리우선 알고리즘)을 통해 라우팅 테이블을 생성한다.
- Area 개념을 사용하여 전체 네트워크를 작은 영역으로 나눠 효율적으로 관리한다.
- 각 Area는 Back Bone Area에 연결되어 있다.
RIP가 30초마다 업데이트 되어 정보를 전송시키는 반면, OSPF는 링크에 상태변화가 있을 시에 즉각적으로 Flooding을 해주어 컨버전스 타임이 매우 빠르다.
- RIP처럼 호스트로부터 목적지까지 도달하는 비용은 근원지 라우터에서부터 목적지 네트워크까지로 계산된다.
- 관리자에 따라 각 링크는 처리량, 왕복시간, 신뢰성 등을 기반으로 가중치를 할당받을 수 있다.
- 라우터는 각각 다른 서비스의 유형에 따라 다중의 라우팅 테이블을 가질 수 있다.

